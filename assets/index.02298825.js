var e=Object.defineProperty,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,a=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,s=(e,s)=>{for(var u in s||(s={}))r.call(s,u)&&a(e,u,s[u]);if(t)for(var u of t(s))n.call(s,u)&&a(e,u,s[u]);return e};import{e as u,r as c,C as i,R as o,l,c as d,a as h}from"./vendor.6a853802.js";const f=new window.AudioContext;var p="_wrapper_1yq1e_1";const{transform:m}=u;function x(e,{x:t,y:r,r:n,shadowColor:a}){const u=a?{shadowColor:a,shadowBlur:16}:{};e.addShape("circle",{attrs:s({x:t,y:r,r:n,fill:"#262626"},u)});const c=e.addShape("image",{attrs:{x:t-n,y:r-n,width:2*n,height:2*n,img:`https://source.unsplash.com/random/${2*n}x${2*n}`}});c.setClip({type:"circle",attrs:{x:t,y:r,r:n}});const i=c.getMatrix(),o=2*Math.PI;return c.animate((e=>({matrix:m(i,[["t",-t,-r],["r",o*e],["t",t,r]])})),{duration:1e4,repeat:!0}),setTimeout((()=>{c.pauseAnimate()})),c}function y(e){const t="#e9dcf7",r=c.exports.useRef(),n=c.exports.useRef(),a=c.exports.useRef([]);return c.exports.useEffect((()=>{var t;if(null==(t=e.data)?void 0:t.length){(function(e){return e.reduce(((e,t,r)=>(r%2&&e.push(t),e)),[])})(e.data).map(((e,t)=>{a.current[t].attr("height",e*e/65025*50+4)}))}}),[e.data]),c.exports.useEffect((()=>{r.current=new i({container:"SLine",width:400,height:400}),n.current=x(r.current,{x:200,y:200,r:100,shadowColor:t}),a.current=Array.from({length:64},((e,n)=>{const a=5.625*n-150,s=Math.cos(a*Math.PI/180),u=Math.sin(a*Math.PI/180),c=110;return r.current.addShape("rect",{attrs:{width:4,height:4,radius:2,x:200+s*c-2,y:200+u*c-2,fill:t}}).rotateAtPoint(200+s*c,200+u*c,(a-90)*Math.PI/180)}))}),[]),c.exports.useEffect((()=>{setTimeout((()=>{var t,r;e.isPlaying?null==(t=n.current)||t.resumeAnimate():null==(r=n.current)||r.pauseAnimate()}))}),[e.isPlaying]),o.createElement("div",{className:"s-model"},o.createElement("div",{id:"SLine",className:"s-canvas-wrapper"}))}function g(e,t=5,r=.8){if(t<3||t>13||t%2==0)throw new Error("num value muse be singular, num >= 3, num <= 13");return e.map(((n,a)=>{const s=(t-1)/2-a%t,u=e[a+s];return~~(u?u*r**Math.abs(s):n)}))}function E(e,t){"#"===e[0]&&(e=e.slice(1));const r=parseInt(e,16);return`rgba(${r>>16}, ${255&r}, ${r>>8&255}, ${t})`}function v(e,t,r){return`M ${e-r}, ${t}\n  a ${r}, ${r} 0 1, 0 ${2*r}, 0 \n  a ${r}, ${r} 0 1, 0 ${2*-r}, 0`}function P(e){const t=["#e9dcf7","#cdd9f5","#cdf5dd","#f3dfbb"],r=c.exports.useRef(),n=c.exports.useRef(),a=c.exports.useRef([]);function s(e,t=0){const r=5.625*e-150,n=104+t;return[200+Math.cos(r*Math.PI/180)*n,200+Math.sin(r*Math.PI/180)*n]}return c.exports.useEffect((()=>{var t;if(null==(t=e.data)?void 0:t.length){const t=[[],[],[],[]];(function(e){let t=[];return e.map(((e,r)=>{r%2&&t.push(e)})),g(t,5,.75)})(e.data).map(((e,r)=>{t[r%4].push(s(r,e*e/65025*30+4))})),t.map(((e,t)=>{var r;const n=l().x((e=>e[0])).y((e=>e[1])).curve(d)(e);null==(r=a.current[t])||r.attr("path",n)}))}}),[e.data]),c.exports.useEffect((()=>{r.current=new i({container:"SPath",width:400,height:400}),n.current=x(r.current,{x:200,y:200,r:100,shadowColor:t[0]});const e=Array.from({length:16},((e,t)=>s(4*t))),u=l().x((e=>e[0])).y((e=>e[1])).curve(d)(e);Array.from({length:4},((e,n)=>{a.current.push(r.current.addShape("path",{attrs:{stroke:t[n],lineWidth:1,path:u}}))}))}),[]),c.exports.useEffect((()=>{setTimeout((()=>{var t,r;e.isPlaying?null==(t=n.current)||t.resumeAnimate():null==(r=n.current)||r.pauseAnimate()}))}),[e.isPlaying]),o.createElement("div",{className:"s-model"},o.createElement("div",{id:"SPath",className:"s-canvas-wrapper"}))}function w(e){const t=128,r="#e9dcf7",n=c.exports.useRef(),a=c.exports.useRef(),s=c.exports.useRef([]),u=c.exports.useRef();function h(e,t=0){const r=2.8125*e-150,n=Math.cos(r*Math.PI/180),a=Math.sin(r*Math.PI/180),s=110+t;return[200+n*s,200+a*s,n,a]}return c.exports.useEffect((()=>{var r;if((null==(r=e.data)?void 0:r.length)&&u.current){const r=e.data.reduce(((e,t,r)=>r%8?[...e,h(r,t*t/65025*36+4)]:e),[]),n=l().x((e=>e[0])).y((e=>e[1])).curve(d)(r);u.current.attr("path",n),s.current.map(((e,r)=>{const{x:n,y:a}=u.current.getPoint(r/t);e.attr("x",n),e.attr("y",a)}))}}),[e.data]),c.exports.useEffect((()=>{n.current=new i({container:"SPathDot",width:400,height:400}),a.current=x(n.current,{x:200,y:200,r:100,shadowColor:r});const e=Array.from({length:16},((e,t)=>h(8*t))),c=l().x((e=>e[0])).y((e=>e[1])).curve(d)(e);u.current=n.current.addShape("path",{attrs:{lineWidth:1,path:c}}),s.current=Array.from({length:t},((e,a)=>{const{x:s,y:c}=u.current.getPoint(a/t),[,,i,o]=h(a),l=5*i,d=5*o;return n.current.addShape("circle",{attrs:{x:s,y:c,r:1.2,fill:r,shadowColor:"#22aaff",shadowOffsetX:-l,shadowOffsetY:-d,shadowBlur:4}})}))}),[]),c.exports.useEffect((()=>{setTimeout((()=>{var t,r;e.isPlaying?null==(t=a.current)||t.resumeAnimate():null==(r=a.current)||r.pauseAnimate()}))}),[e.isPlaying]),o.createElement("div",{className:"s-model"},o.createElement("div",{id:"SPathDot",className:"s-canvas-wrapper"}))}function A(e){const t=["#81D8F2","#67A1E0","#5263C2","#74E1A5"],r=c.exports.useRef(),n=c.exports.useRef(),a=c.exports.useRef([]);function s(e,t=0){const r=5.625*e-150,n=100+t;return[200+Math.cos(r*Math.PI/180)*n,200+Math.sin(r*Math.PI/180)*n]}return c.exports.useEffect((()=>{var t;if(null==(t=e.data)?void 0:t.length){const t=[[],[],[],[]];(function(e){let t=[];return e.map(((e,r)=>{r%2&&t.push(e)})),g(t,5,.75)})(e.data).map(((e,r)=>{t[r%4].push(s(r,e*e/65025*60))})),t.map(((e,t)=>{const r=l().x((e=>e[0])).y((e=>e[1])).curve(d)(e);a.current[t].attr("path",r)}))}}),[e.data]),c.exports.useEffect((()=>{r.current=new i({container:"SPathFill",width:400,height:400}),n.current=x(r.current,{x:200,y:200,r:100,shadowColor:"#ffffff"}).setZIndex(2);const e=Array.from({length:16},((e,t)=>s(4*t))),u=l().x((e=>e[0])).y((e=>e[1])).curve(d)(e);Array.from({length:4},((e,n)=>{a.current.push(r.current.addShape("path",{attrs:{stroke:t[n],lineWidth:1,path:u,fill:E(t[n],.2)}}).setZIndex(1))}))}),[]),c.exports.useEffect((()=>{setTimeout((()=>{var t,r;e.isPlaying?null==(t=n.current)||t.resumeAnimate():null==(r=n.current)||r.pauseAnimate()}))}),[e.isPlaying]),o.createElement("div",{className:"s-model"},o.createElement("div",{id:"SPathFill",className:"s-canvas-wrapper"}))}function M(e){const t=200,r=200,n=100,a="#fff",s=c.exports.useRef(),u=c.exports.useRef(),l=c.exports.useRef([]),d=c.exports.useRef([]),h=c.exports.useRef([]),f=c.exports.useRef([]),p=c.exports.useRef([]);return c.exports.useEffect((()=>{p.current=e.data||[]}),[e.data]),c.exports.useEffect((()=>{if(!s.current){s.current=new i({container:"SCircle",width:400,height:400}),u.current=x(s.current,{x:t,y:r,r:n,shadowColor:"#fcc8d9"});const c=()=>s.current.addShape("path",{attrs:{stroke:a,lineWidth:2,path:v(t,r,n),opacity:0}}),o=()=>s.current.addShape("circle",{attrs:{x:t,y:100,r:5,fill:a,shadowColor:"#e9dcf7",shadowBlur:5,opacity:0}}),m={duration:6e3,easing:"easeLinear",repeat:!0};Array.from({length:3},((a,s)=>{f.current.push(!1),l.current.push(c()),l.current[s].animate((e=>({path:v(t,r,n+80*e),opacity:e>.02&&e<.9?.8-.8*e:0})),m),d.current.push(o()),h.current.push(0),d.current[s].animate((a=>{e.data&&a<.05&&!h.current[s]?h.current[s]=(()=>{const e=p.current||[],t=e.sort(((e,t)=>t-e)).slice(0,10)[~~(10*Math.random())],r=e.findIndex((e=>e===t));return~r?360*r/e.length:1})():a>.9&&(h.current[s]=0);const u=h.current[s]+360*a-180,c=Math.cos(u*Math.PI/180),i=Math.sin(u*Math.PI/180),o=n+80*a;return{x:t+c*o,y:r+i*o,r:5*(1-a/2),opacity:a>.05&&a<.9?.8-.8*a:0}}),m)}))}if(e.isPlaying)for(let e=0;e<l.current.length;e++)f.current[e]?(l.current[e].resumeAnimate(),d.current[e].resumeAnimate()):setTimeout((()=>{l.current[e].resumeAnimate(),d.current[e].resumeAnimate(),f.current[e]=!0}),2e3*e);else setTimeout((()=>{for(let e=0;e<l.current.length;e++)l.current[e].pauseAnimate(),d.current[e].pauseAnimate()}))}),[e.isPlaying]),c.exports.useEffect((()=>{setTimeout((()=>{var t,r;e.isPlaying?null==(t=u.current)||t.resumeAnimate():null==(r=u.current)||r.pauseAnimate()}))}),[e.isPlaying]),o.createElement("div",{className:"s-model"},o.createElement("div",{id:"SCircle",className:"s-canvas-wrapper"}))}function S(e){const t=200,r=200,n=100,a="#e9dcf7",s=c.exports.useRef(),u=c.exports.useRef(),h=c.exports.useRef(),f=c.exports.useRef([]);function p(e,n=0){const a=5.625*e-150,s=Math.cos(a*Math.PI/180),u=Math.sin(a*Math.PI/180),c=110+n;return[t+s*c,r+u*c]}return c.exports.useEffect((()=>{var t,r;if(null==(t=e.data)?void 0:t.length){const t=[],n=function(e){let t=[];return e.map(((e,r)=>{r%2&&t.push(e)})),g(t,3,.5)}(e.data);n.map(((e,r)=>{const a=p(r,e*e/65025*60),s=p(r,-e*e/65025*12);t[r]=a,t[n.length+r]=s,f.current[r].attr("x1",a[0]),f.current[r].attr("y1",a[1]),f.current[r].attr("x2",s[0]),f.current[r].attr("y2",s[1])}));const a=l().x((e=>e[0])).y((e=>e[1])).curve(d)(t);null==(r=h.current)||r.attr("path",a)}}),[e.data]),c.exports.useEffect((()=>{s.current=new i({container:"SPathDouble",width:400,height:400}),u.current=x(s.current,{x:t,y:r,r:n,shadowColor:a}),h.current=s.current.addShape("path",{attrs:{stroke:a,lineWidth:1,path:v(t,r,110)}}),f.current=Array.from({length:64},((e,r)=>s.current.addShape("line",{attrs:{x1:t,y1:100,x2:t,y2:100,stroke:a,lineWidth:1}})))}),[]),c.exports.useEffect((()=>{setTimeout((()=>{var t,r;e.isPlaying?null==(t=u.current)||t.resumeAnimate():null==(r=u.current)||r.pauseAnimate()}))}),[e.isPlaying]),o.createElement("div",{className:"s-model"},o.createElement("div",{id:"SPathDouble",className:"s-canvas-wrapper"}))}function R(e){const t="#e9dcf7",r=c.exports.useRef(),n=c.exports.useRef(),a=c.exports.useRef([]),s=c.exports.useRef([]);function u(e,t=0){const r=5.625*e-150,n=Math.cos(r*Math.PI/180),a=Math.sin(r*Math.PI/180),s=110+t;return[200+n*s,200+a*s,n,a]}return c.exports.useEffect((()=>{var t,r;(null==(t=e.data)?void 0:t.length)&&(r=e.data,r.reduce(((e,t,r)=>r%2?[...e,t]:e),[])).map(((e,t)=>{const[r,n]=u(t,e*e/65025*24+4);a.current[t].attr("x",r),a.current[t].attr("y",n),s.current[t].attr("x2",r),s.current[t].attr("y2",n)}))}),[e.data]),c.exports.useEffect((()=>{r.current=new i({container:"SDot",width:400,height:400}),n.current=x(r.current,{x:200,y:200,r:100,shadowColor:t}),Array.from({length:64},((e,n)=>{const[c,i,o,l]=u(n),d=~~(5.625*n+210),h=r.current.addShape("circle",{attrs:{x:c,y:i,r:2,fill:t}}),f=r.current.addShape("line",{attrs:{x1:c,y1:i,x2:c,y2:i,lineWidth:2.8,stroke:`l(${d}) 0.3:rgba(255,255,255,0) 1:#e9dcf7`}});a.current.push(h),s.current.push(f)}))}),[]),c.exports.useEffect((()=>{setTimeout((()=>{var t,r;e.isPlaying?null==(t=n.current)||t.resumeAnimate():null==(r=n.current)||r.pauseAnimate()}))}),[e.isPlaying]),o.createElement("div",{className:"s-model"},o.createElement("div",{id:"SDot",className:"s-canvas-wrapper"}))}function I(e){const t=c.exports.useRef(),r=c.exports.useRef(),n=c.exports.useRef([]),a=c.exports.useRef([]),s=c.exports.useRef([]),u=c.exports.useRef(-1),l=c.exports.useRef();return c.exports.useEffect((()=>{if(e.isPlaying&&e.data&&e.data.length){if(l.current)return;l.current=setTimeout((()=>{const t=e.data?e.data.reduce(((e,t,r)=>r%2?[...e,t]:e),[]):[],r=t.sort(((e,t)=>t-e)).slice(0,10)[~~(10*Math.random())],n=t.findIndex((e=>e===r));u.current=n,l.current=0,clearTimeout(l.current)}),300)}}),[e.isPlaying,e.data]),c.exports.useEffect((()=>{t.current||(t.current=new i({container:"SParticle",width:400,height:400}),r.current=x(t.current,{x:200,y:200,r:100,shadowColor:"#fcc8d9"}),Array.from({length:64},((e,r)=>{Array.from({length:8},((e,c)=>{const i=5.625*r-150+10*(Math.random()-.5),o=Math.cos(i*Math.PI/180),l=Math.sin(i*Math.PI/180),d=200+100*o,h=200+100*l,f=t.current.addShape("circle",{attrs:{x:d,y:h,r:.8,fill:"#fff",opacity:0}});f.animate((e=>{const t=5.625*r-150+4*Math.sin(20*e),n=Math.cos(t*Math.PI/180),a=Math.sin(t*Math.PI/180),i=64*r+c;s.current[i]&&(e<.02?s.current[i]=r>=u.current-1&&r<=u.current+1?48:18:e>.98&&(s.current[i]=18));const o=s.current[i]||18;return{x:d+n*e*o,y:h+a*e*o,opacity:1-e}}),{duration:4e3,repeat:!0,easing:"easeSinInOut"}),n.current.push(f),a.current.push(!1),s.current.push(18)}))}))),e.isPlaying?n.current.map(((e,t)=>{a.current[t]?e.resumeAnimate():setTimeout((()=>{e.resumeAnimate(),a.current[t]=!0}),4e3*Math.random())})):setTimeout((()=>{n.current.map((e=>{e.pauseAnimate()}))}))}),[e.isPlaying]),c.exports.useEffect((()=>{setTimeout((()=>{var t,n;e.isPlaying?null==(t=r.current)||t.resumeAnimate():null==(n=r.current)||n.pauseAnimate()}))}),[e.isPlaying]),o.createElement("div",{className:"s-model"},o.createElement("div",{id:"SParticle",className:"s-canvas-wrapper"}))}const N=new class{constructor(e){this.options=s(s({},{size:128}),e),this.analyser=f.createAnalyser(),this.analyser.fftSize=2*this.options.size,this.gainNode=f.createGain(),this.gainNode.connect(f.destination),this.analyser.connect(this.gainNode),this.options.audioEl&&(this.audioSource=f.createMediaElementSource(this.options.audioEl),this.audioSource.connect(this.analyser)),this.visualArr=new Uint8Array(this.analyser.frequencyBinCount),this.resumeAudioContext()}resumeAudioContext(){if(f){const e=()=>{"suspended"===f.state&&f.resume(),document.removeEventListener("click",e)};document.addEventListener("click",e)}}destory(){var e;this.analyser.disconnect(this.gainNode),null==(e=this.audioSource)||e.disconnect(this.analyser),this.gainNode.disconnect(f.destination)}setAudioEl(e){this.audioSource&&this.audioSource.disconnect(this.analyser),this.audioSource=f.createMediaElementSource(e),this.audioSource.connect(this.analyser)}changeVolumn(e){this.gainNode.gain.value=e}getVisualizeValue(){return this.analyser.getByteFrequencyData(this.visualArr),this.visualArr}};function C(){const e=c.exports.useRef(null);c.exports.useEffect((()=>{N.setAudioEl(e.current)}),[]);const[t,r]=c.exports.useState(),[n,a]=c.exports.useState([]),[s,u]=c.exports.useState(!1);let i,l=c.exports.useRef();function d(e){i||(i=e);const t=e-i;(0===t||t>0)&&(a([...N.getVisualizeValue()]),i=e),l.current=requestAnimationFrame(d)}return o.createElement(o.Fragment,null,o.createElement("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap",padding:"20px"}},o.createElement("audio",{controls:!0,onPlay:function(){u(!0),l.current=requestAnimationFrame(d)},onPause:function(){u(!1),l.current&&cancelAnimationFrame(l.current)},ref:e,src:t,style:{marginRight:"10px"}}),o.createElement("input",{type:"file",onChange:function(e){const t=URL.createObjectURL(e.target.files[0]);r(t)}})),o.createElement("div",{className:p},o.createElement(y,{isPlaying:s,data:n}),o.createElement(S,{isPlaying:s,data:n}),o.createElement(P,{isPlaying:s,data:n}),o.createElement(A,{isPlaying:s,data:n}),o.createElement(M,{isPlaying:s,data:n}),o.createElement(I,{isPlaying:s,data:n}),o.createElement(R,{isPlaying:s,data:n}),o.createElement(w,{isPlaying:s,data:n})))}function b(){return o.createElement("div",{className:"App"},o.createElement(C,null))}h.render(o.createElement(o.StrictMode,null,o.createElement(b,null)),document.getElementById("root"));
